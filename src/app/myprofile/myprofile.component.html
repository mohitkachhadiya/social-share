<div class="container">
	<div class="row">
		<div class="col-8 offset-2">
			<mat-card class="mt-5">
				<form [formGroup]="fileUploadForm">
					<div class="container-fluid">
						<div class="row">
							<div class="col-sm-12">
								<div>
									<h6 class="head-title margin-top-8"><span>Select Image File</span></h6>
								</div>
							</div>
							<div class="col-sm-6">
								<div class="custom-file">
									<input type="file" class="custom-file-input" id="customFile" name="uploadedImage"
									(change)="onFileSelect($event)" data-toggle="modal" data-target="#myModal"  #UploadFileInput>
									<label class="custom-file-label" for="customFile">{{fileInputLabel || 'Choose File'}}</label>
								</div>
							</div>
						</div>
					</div>
				</form>
			</mat-card>

			<mat-card class="mt-5" *ngFor="let post of posts; let i= index">
				<mat-card-content>
					<hr>
					<h4 class="m-0">{{post.userId.name}}</h4>

					<span class="mt--5">{{post.time}}</span>

					<p>{{post.discription}}</p>

					<hr>

					<div class="profile_post_img"><img src={{post.image}}></div>

					<h4>{{post.description}}</h4>

					<hr>

					<p class="like_text text-dark pl-3" (click)="like(post._id)"><a ><img src="./assets/thumb.png" width="30"><span class="m-3">Like</span></a>
						<span *ngIf="isLike">{{post.like}}</span>
					</p>
					
					<hr>
				</mat-card-content>
			</mat-card>
		</div>
	</div>
</div>



<!-------------Model--------------->
<div class="modal fade" id="myModal" role="dialog">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal">&times;</button>
				<h4 class="modal-title"></h4>
			</div>
			<div class="modal-body">
				<mat-card class="mt-5">
					<mat-card-content>
						<div class="container-fluid">
							<div class="row">
								<div class="col-12">
									<h4 class="m-0">{{name}}</h4>
									<span class="mt--5">{{time}}</span>
								</div>
								<div class="form-group profile_post_img">
									<div [innerHtml]='msg' *ngIf="msg" style="color: red;"></div>
									<div><img [src]="url" *ngIf="url" ></div>										
								</div>
								<hr>
								<form [formGroup]="userDescription">
									<div>
										<input type="text" name="discription" class="form-control" formControlName="discription" placeholder="Say Something about these photos...">
									</div>

									<div class="col-sm-6"> <button class="btn btn-primary" type="submit" (click)="onFormSubmit(userDescription.value)" data-dismiss="modal">Upload</button> </div>
								</form>
								<hr>
							</div>
						</div>
					</mat-card-content>
				</mat-card>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
			</div>
		</div>
	</div>
</div>